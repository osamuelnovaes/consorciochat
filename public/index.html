<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cons√≥rcioChat - Comunica√ß√£o com seus Clientes</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Tela de Login/Verifica√ß√£o -->
  <div id="auth-screen" class="screen active">
    <div class="auth-container">
      <div class="logo">
        <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
          <rect width="60" height="60" rx="15" fill="url(#gradient)" />
          <path
            d="M15 25C15 21.6863 17.6863 19 21 19H39C42.3137 19 45 21.6863 45 25V33C45 36.3137 42.3137 39 39 39H33L25 45V39H21C17.6863 39 15 36.3137 15 33V25Z"
            fill="white" />
          <defs>
            <linearGradient id="gradient" x1="0" y1="0" x2="60" y2="60">
              <stop offset="0%" stop-color="#667eea" />
              <stop offset="100%" stop-color="#764ba2" />
            </linearGradient>
          </defs>
        </svg>
        <h1>Cons√≥rcioChat</h1>
        <p>Conecte-se com seus clientes</p>
      </div>

      <!-- Enviar c√≥digo -->
      <div id="phone-input" class="auth-step active">
        <div class="input-group">
          <label for="phone">N√∫mero de Telefone</label>
          <input type="tel" id="phone" placeholder="(00) 00000-0000" maxlength="15">
        </div>
        <button id="send-code-btn" class="btn btn-primary">
          Enviar C√≥digo
        </button>
        <p class="help-text">Voc√™ receber√° um c√≥digo de 6 d√≠gitos</p>
      </div>

      <!-- Verificar c√≥digo -->
      <div id="code-input" class="auth-step">
        <div class="input-group">
          <label for="code">C√≥digo de Verifica√ß√£o</label>
          <input type="text" id="code" placeholder="000000" maxlength="6" pattern="[0-9]*" inputmode="numeric">
        </div>
        <button id="verify-btn" class="btn btn-primary">
          Verificar
        </button>
        <button id="back-btn" class="btn btn-secondary">
          Voltar
        </button>
        <p class="help-text">Digite o c√≥digo recebido</p>
      </div>

      <div id="auth-loading" class="loading">
        <div class="spinner"></div>
      </div>
    </div>
  </div>

  <!-- Tela Principal de Chat -->
  <div id="chat-screen" class="screen">
    <div class="chat-container">
      <!-- Sidebar com lista de conversas -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <div class="user-info">
            <div id="user-avatar" class="avatar">üë§</div>
            <div>
              <div id="user-name" class="user-name">Usu√°rio</div>
              <div id="user-phone" class="user-phone"></div>
            </div>
          </div>
          <button id="new-chat-btn" class="icon-btn" title="Nova Conversa">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>
        </div>

        <div class="search-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="8" stroke-width="2" />
            <path d="M21 21l-4.35-4.35" stroke-width="2" stroke-linecap="round" />
          </svg>
          <input type="text" id="search-input" placeholder="Buscar conversas...">
        </div>

        <div id="conversations-list" class="conversations-list">
          <!-- Conversas ser√£o inseridas aqui -->
        </div>
      </aside>

      <!-- √Årea de chat -->
      <main class="chat-area">
        <!-- Estado vazio -->
        <div id="empty-state" class="empty-state">
          <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
            <rect width="80" height="80" rx="20" fill="#f3f4f6" />
            <path
              d="M20 35C20 30.5817 23.5817 27 28 27H52C56.4183 27 60 30.5817 60 35V45C60 49.4183 56.4183 53 52 53H44L34 60V53H28C23.5817 53 20 49.4183 20 45V35Z"
              fill="#9ca3af" />
          </svg>
          <h2>Selecione uma conversa</h2>
          <p>Escolha um contato na lista ou inicie uma nova conversa</p>
        </div>

        <!-- Chat ativo -->
        <div id="active-chat" class="active-chat">
          <div class="chat-header">
            <div class="contact-info">
              <div id="contact-avatar" class="avatar">üë§</div>
              <div>
                <div id="contact-name" class="contact-name">Nome do Contato</div>
                <div id="contact-status" class="contact-status">offline</div>
              </div>
            </div>
            <button id="close-chat-btn" class="icon-btn mobile-only" title="Fechar">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M18 6L6 18M6 6l12 12" stroke-width="2" stroke-linecap="round" />
              </svg>
            </button>
          </div>

          <div id="messages-container" class="messages-container">
            <!-- Mensagens ser√£o inseridas aqui -->
          </div>

          <div id="typing-indicator" class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>

          <div class="message-input-container">
            <input type="file" id="file-input" hidden accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.txt">
            <button id="attach-btn" class="icon-btn" title="Anexar arquivo">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path
                  d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
            <textarea id="message-input" placeholder="Digite sua mensagem..." rows="1"></textarea>
            <button id="mic-btn" class="icon-btn mic-btn" title="Gravar √°udio">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <line x1="12" y1="19" x2="12" y2="23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <line x1="8" y1="23" x2="16" y2="23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
            <button id="send-btn" class="send-btn" disabled>
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
          </div>
          <div id="recording-indicator" class="recording-indicator" style="display: none;">
            <span class="recording-dot"></span>
            <span id="recording-time">00:00</span>
            <button id="stop-recording" class="btn btn-danger">Parar</button>
          </div>
          <div id="attachment-preview" class="attachment-preview" style="display: none;">
            <span id="attachment-name"></span>
            <button id="remove-attachment" class="icon-btn-small">‚úï</button>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Modal de Nova Conversa -->
  <div id="new-chat-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nova Conversa</h2>
        <button id="close-modal-btn" class="icon-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M18 6L6 18M6 6l12 12" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="add-contact-form">
          <input type="text" id="search-users" placeholder="Digite o n√∫mero de telefone...">
          <button id="add-contact-btn" class="btn btn-primary" style="margin-top: 12px;">
            Buscar Contato
          </button>
          <p style="font-size: 14px; color: #6b7280; margin-top: 12px; text-align: center;">
            S√≥ √© poss√≠vel conversar com pessoas que j√° possuem conta no Cons√≥rcioChat
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <script src="app.js"></script>
</body>

</html>